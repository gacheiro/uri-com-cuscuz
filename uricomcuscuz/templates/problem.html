{% extends "layout.html" %}
{% import "_table.html" as table %}

{% set table_description = 'Ultimas soluções para %s'|format(problem.name) %}
{% set external_link = problem.link %}

{% macro render_submission(sub) -%}
  {# renders a table row with a link to user page #}
  <td>
    <a href={{ url_for('app.users', id=sub.user.id) }} >
        {{ sub.user.name }}
    </a>
    <td class="has-text-centered">{{ sub.exec_time }}</td>
    <td class="has-text-centered">{{ sub.language }}</td>
    <td class="has-text-centered">{{ sub.date|format_date }}</td>  
  </td>
{%- endmacro %}

{% block content %}
  {{ super() }}
{% endblock %}
{% block table %}
  {% set thead = ('Usuário', 'Tempo', 'Linguagem', 'Data') %}
  {{ table.render(thead, pagination.items, render_submission) }}
{% endblock %}
{% block pagination %}
  {{ render_pagination(pagination, base_path='app.problems', page_id=problem.id) }}
{% endblock %}
